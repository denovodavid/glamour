(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{335:function(t,e,r){"use strict";r.r(e);var a=r(6),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h-date",[t._v("23/04/2020")]),t._v(" "),r("h1",{attrs:{id:"basic-lighting"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#basic-lighting"}},[t._v("#")]),t._v(" Basic Lighting")]),t._v(" "),r("p",[t._v("One again, many things have happened, as seen in the tweet below. In the past three days I have added the coordinate system with camera and transformations, refactored the rendering API to a more immediate pipeline, and added basic ambient + diffuse + specular shading. All that refactoring of vertex arrays has definitely come in handy and allowed me to fix a couple of bugs as I understood more about what "),r("em",[t._v("exactly")]),t._v(" a "),r("strong",[t._v("vertex array")]),t._v(" is.")]),t._v(" "),r("blockquote",{staticClass:"twitter-tweet",attrs:{"data-conversation":"none","data-theme":"light"}},[r("p",{attrs:{lang:"en",dir:"ltr"}},[t._v("Ambient + diffuse + specular lighting âœ¨ "),r("a",{attrs:{href:"https://twitter.com/hashtag/rustlang?src=hash&ref_src=twsrc%5Etfw"}},[t._v("#rustlang")]),t._v(" "),r("a",{attrs:{href:"https://twitter.com/hashtag/opengl?src=hash&ref_src=twsrc%5Etfw"}},[t._v("#opengl")]),t._v(" "),r("a",{attrs:{href:"https://t.co/LQV0GKX5xC"}},[t._v("pic.twitter.com/LQV0GKX5xC")])]),t._v("â€” David J Holland (@davidlemonboy) "),r("a",{attrs:{href:"https://twitter.com/davidlemonboy/status/1252910873431011329?ref_src=twsrc%5Etfw"}},[t._v("April 22, 2020")])]),t._v(" "),r("script",{attrs:{async:"",src:"https://platform.twitter.com/widgets.js",charset:"utf-8"}}),t._v(" "),r("h2",{attrs:{id:"vertex-arrays-are-not-arrays-of-vertices"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vertex-arrays-are-not-arrays-of-vertices"}},[t._v("#")]),t._v(" Vertex Arrays are not Arrays of Vertices")]),t._v(" "),r("p",[t._v("Well, I knew that much coming into it, but I was lost on the specifics. Here's what I now understand.")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("Vertex Array")]),t._v(" "),r("p",[t._v("A "),r("strong",[t._v("vertex array")]),t._v(" is an object that, when currently bound, "),r("em",[t._v("captures the state")]),t._v(" of "),r("strong",[t._v("vertex attributes")]),t._v(" and "),r("strong",[t._v("index buffers")]),t._v(". Binding it again, will "),r("em",[t._v("rebind")]),t._v(" that "),r("em",[t._v("captured state")]),t._v(".")])]),t._v(" "),r("p",[t._v("There are only 4 OpenGL functions that a currently bound "),r("strong",[t._v("vertex array")]),t._v(" will capture state changes of:")]),t._v(" "),r("h4",{attrs:{id:"ðŸ‘‰-glenablevertexattribarray-gldisablevertexattribarray"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ‘‰-glenablevertexattribarray-gldisablevertexattribarray"}},[t._v("#")]),t._v(" ðŸ‘‰ "),r("a",{attrs:{href:"http://docs.gl/gl4/glEnableVertexAttribArray",target:"_blank",rel:"noopener noreferrer"}},[r("strong",[r("code",[t._v("glEnableVertexAttribArray(...)")]),t._v(" / "),r("code",[t._v("glDisableVertexAttribArray(...)")])]),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Enable/disable "),r("strong",[t._v("vertex attributes")]),t._v(", e.g., enable "),r("code",[t._v("location = 0")]),t._v(" so I can send vertex positions to my vertex shader.")]),t._v(" "),r("h4",{attrs:{id:"ðŸ‘‰-glvertexattribpointer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ‘‰-glvertexattribpointer"}},[t._v("#")]),t._v(" ðŸ‘‰ "),r("a",{attrs:{href:"http://docs.gl/gl4/glVertexAttribPointer",target:"_blank",rel:"noopener noreferrer"}},[r("strong",[r("code",[t._v("glVertexAttribPointer(...)")])]),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Tell OpenGL what part of the "),r("strong",[t._v("vertex buffer")]),t._v(" is the attribute, e.g., the first 3 floats are the position.")]),t._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[t._v("Important!")]),t._v(" "),r("p",[t._v("Calling this will cause the "),r("strong",[t._v("vertex array")]),t._v(" to "),r("em",[t._v("implicity")]),t._v(" capture the currently bound "),r("strong",[t._v("vertex buffer")]),t._v(" to know where the data is.")])]),t._v(" "),r("h4",{attrs:{id:"ðŸ‘‰-glbindbuffer-gl-element-array-buffer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ‘‰-glbindbuffer-gl-element-array-buffer"}},[t._v("#")]),t._v(" ðŸ‘‰ "),r("a",{attrs:{href:"http://docs.gl/gl4/glBindBuffer",target:"_blank",rel:"noopener noreferrer"}},[r("strong",[r("code",[t._v("glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, ...)")])]),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Bind (or unbind) an "),r("strong",[t._v("index buffer")]),t._v(".")]),t._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[t._v("Unbinding Matters.")]),t._v(" "),r("p",[t._v("Make sure to unbind the "),r("strong",[t._v("vertex array")]),t._v(" before unbinding the "),r("strong",[t._v("index buffer")]),t._v(", otherwise (since the same function binds/unbinds), the "),r("strong",[t._v("vertex array")]),t._v(" will capture the "),r("em",[t._v("unbound")]),t._v(" state.")])]),t._v(" "),r("p",[t._v("Knowing all this now, I have been very careful to bind/unbind everything correctly, in order not to capture the wrong state, or leave my "),r("strong",[t._v("vertex array")]),t._v(" bound.")]),t._v(" "),r("blockquote",[r("p",[t._v("Please, please, this is supposed to be a "),r("em",[t._v("happy")]),t._v(" occasion, let's not "),r("em",[t._v("bicker")]),t._v(" and "),r("em",[t._v("argue")]),t._v(" about who unbound who. We are here today, to witness the "),r("strong",[t._v("Critical Path")]),t._v(" progress.")])]),t._v(" "),r("h2",{attrs:{id:"critical-path-v1-1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#critical-path-v1-1"}},[t._v("#")]),t._v(" Critical Path "),r("code",[t._v("v1.1")])]),t._v(" "),r("ol",[r("li",[t._v("âœ… "),r("strong",[t._v("Coordinate System")]),t._v(" "),r("ul",[r("li",[r("s",[r("strong",[t._v("Entity")]),t._v(" object to encapsulate a "),r("strong",[t._v("Transform")]),t._v(" component and "),r("strong",[t._v("Renderer")]),t._v(" data.")]),t._v(" "),r("ul",[r("li",[r("em",[t._v("Just have a list of transforms as the rendering data is only cubes.")])])])]),t._v(" "),r("li",[r("s",[r("strong",[t._v("Camera")]),t._v(" component to handle view projection transforms, and move around the scene.")]),t._v(" "),r("ul",[r("li",[r("em",[t._v("Camera automatically orbits the scene, no manual control.")])])])]),t._v(" "),r("li",[r("s",[t._v("The "),r("a",{attrs:{href:"https://crates.io/crates/nalgebra-glm",target:"_blank",rel:"noopener noreferrer"}},[t._v("nalgebra-glm"),r("OutboundLink")],1),t._v(" crate has all the required math funcionality.")])])])]),t._v(" "),r("li",[t._v("ðŸš§ "),r("strong",[t._v("Forward Lighting")]),t._v(" "),r("ul",[r("li",[t._v("âœ… "),r("s",[r("strong",[t._v("Light")]),t._v(" component to with color, strength, and type (directional or spotlight).")]),t._v(" "),r("ul",[r("li",[r("em",[t._v("Just using spotlights for now.")])])])]),t._v(" "),r("li",[r("strong",[t._v("Material")]),t._v(" component to encapsulate ambient, diffues, specular, and shininess values.")]),t._v(" "),r("li",[t._v("ðŸš§ Create a "),r("strong",[t._v("GLSL function")]),t._v(" to calculate lighting from a "),r("strong",[t._v("material's")]),t._v(" values and all the "),r("strong",[t._v("light")]),t._v(" source values.")])])]),t._v(" "),r("li",[t._v("ðŸš§ "),r("strong",[t._v("Geometry")]),t._v(" "),r("ul",[r("li",[t._v("âœ… "),r("s",[t._v("I'm going to skip model loading for now, and just use some pre-defined cube vertex data.")])]),t._v(" "),r("li",[t._v("ðŸš« "),r("s",[t._v("Maybe I'll render the light sources as little spheres.")])]),t._v(" "),r("li",[t._v("ðŸ’Ž Use "),r("a",{attrs:{href:"https://learnopengl.com/Advanced-OpenGL/Instancing",target:"_blank",rel:"noopener noreferrer"}},[t._v("instanced rendering"),r("OutboundLink")],1),t._v(" to more easily manage "),r("strong",[t._v("vertex/index/transform data")]),t._v(".")])])]),t._v(" "),r("li",[t._v("âœ‹ "),r("strong",[t._v("Deferred Shading")]),t._v(" "),r("ul",[r("li",[t._v("I will need to learn how to use "),r("strong",[t._v("framebuffers")]),t._v(".")]),t._v(" "),r("li",[t._v("I might need to do something with the "),r("strong",[t._v("Depth buffer")]),t._v(".")]),t._v(" "),r("li",[t._v("I will need to learn about "),r("strong",[t._v("Multiple Render Targets")]),t._v(" (MRT).")]),t._v(" "),r("li",[t._v("Update the lighting calculation to take input from the "),r("strong",[t._v("G-buffer")]),t._v(" framebuffer.")])])])]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"center"}},[t._v("Mark")]),t._v(" "),r("th",[t._v("Description")])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"center"}},[t._v("âœ…")]),t._v(" "),r("td",[t._v("Done")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"center"}},[t._v("ðŸš§")]),t._v(" "),r("td",[t._v("WIP")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"center"}},[t._v("âœ‹")]),t._v(" "),r("td",[t._v("Blocked")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"center"}},[t._v("ðŸš«")]),t._v(" "),r("td",[t._v("Removed")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"center"}},[t._v("ðŸ’Ž")]),t._v(" "),r("td",[t._v("New")])])])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);